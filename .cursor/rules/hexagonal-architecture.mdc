---
description: "Enforce package Hexagonal layout & public boundaries"
globs:
  - packages/**/src/**/*.{ts,tsx}
alwaysApply: true
---

## Hexagonal Package Layout
src/
â”œâ”€ api.ts          # ğŸŒ PUBLIC â€“ orchestrates controllers
â”œâ”€ controllers/    # ğŸ›ï¸ PRIVATE â€“ flow control
â”œâ”€ logic/          # ğŸ§  PRIVATE â€“ pure functions, no side-effects
â”œâ”€ models/         # ğŸ“‹ PRIVATE â€“ internal types
â”œâ”€ adapters/       # ğŸ”„ PRIVATE â€“ schema transforms
â”œâ”€ database/       # ğŸ”’ PRIVATE â€“ persistence
â”œâ”€ diplomat/       # ğŸŒ PRIVATE â€“ external calls
â””â”€ schema/         # ğŸ“ PUBLIC â€“ in/â€‹out contracts

**Rules**

* Only `api.ts` & `schema/` are exported via `index.ts`.  
* `logic/` stays pureâ€”no DB, HTTP, Date, randomness.  
* Apps interact **only** through package APIs.

Expose internal layers and you break encapsulation.